# Coreプロジェクト Architectモード開発ルール

このドキュメントは、`core`プロジェクトにおけるArchitectモード固有の開発ルールを定義します。
`../rules`フォルダの共通ルールも合わせて参照してください。

## 1. Architectモードでの作業ルール

Architectモードで作業を行う際は、以下のルールに従ってソースコードの解析とドキュメントの確認を行い、作業計画をタスクファイルにまとめます

-  必ず実ファイルが存在すること、存在するファイルの実際のコードの内容を確認してから提案内容を検討します。
-  実ファイルを確認していない想定や理想は提案内容に含めません。
-  関連するソースコードを静的解析ツールや目視により解析します。
-  既存のドキュメントがある場合は、変更箇所や差分が明確になるように提案します。

## 2. タスクファイル作成の手順

### 2.1 タスク分析

1. 要件の確認
   - 実装やドキュメント更新の目的
   - 期待される成果物
   - 影響範囲の見積もり

2. 既存コードの調査
   - 関連するソースコードの確認
   - テストコードの確認
   - 既存の動作確認

3. ドキュメントの確認
   - 関連する仕様書の確認
   - 更新が必要なドキュメントの特定
   - 整合性の確認

### 2.2 タスクファイルの作成

1. タスク構造の準備
   - タスクIDの採番（共通ルール参照）
   - タスクディレクトリの作成
   - `.roo/work/tasks/TASK-{番号}/`を作成

2. Code/Docsモード用タスクファイルの作成
   - テンプレートは`../rules/task-templates.md`を使用
   - Codeモード用は`code-{番号}.md`を作成
   - Docsモード用は`docs-{番号}.md`を作成
   - 必要なモードのタスクファイルのみ作成可

3. タスク内容の記載
   - テンプレートの各項目を具体的に記入
   - 実装手順やドキュメント更新内容を明確に
   - 確認項目を具体的に列挙

### 2.3 レビューと修正

1. タスク内容の確認
   - 要件との整合性
   - 手順の具体性
   - 確認項目の妥当性

2. 必要に応じて修正
   - 不明確な部分の具体化
   - 手順の詳細化
   - 確認項目の追加