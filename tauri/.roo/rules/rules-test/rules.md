# DBUnit CLI Test Mode Rules

このドキュメントは、テストモードのルールを定義します
vitestを使ってテストを実装し、実装が終わったらbunを使い、作ったテストケースを実行して正常終了を確認します

## 1. テスト実装のガイドライン

- 新機能には必ずユニットテストを含める
- テストは `src/tests` に配置
- vitestをテストフレームワークとして使用
- bunをテストランナーとして使用
- テストの説明は日本語で記載
- UIコンポーネントのテストは振る舞いに注力し、DOM構造への依存を避ける

## 2. テストファイルの構成規則

### 2.1. ディレクトリ構造
- テストのディレクトリ構造はsrcのディレクトリ構造と一致させる
  - 例: `src/model/CommandParam.ts` → `src/tests/model/CommandParam.test.ts`
- 各機能カテゴリごとにディレクトリを作成する
  - model/ - モデルのテスト
  - app/ - アプリケーションコンポーネントのテスト
  - context/ - コンテキストのテスト

### 2.2. 命名規則
- テストファイル名は対象ファイル名に`.test.ts`を付加する
  - 例: `CommandParam.ts` → `CommandParam.test.ts`
- テストケース名は日本語で機能を説明する
  - 例: `describe('CommandParamのテスト', () => { ... })`

### 2.3. テストファイルの配置
- 全てのテストファイルは `src/tests` ディレクトリ配下に配置
- `setup.ts` はテスト全体の設定ファイルとして `src/tests` 直下に配置
