# コンテキストレイヤーのコーディング規約

このドキュメントでは、コンテキストレイヤーのコーディング規約を定義します。

## 1. コンテキスト設計

### 1.1 基本構造
- createContextの使用
- 型定義の明示
- Providerコンポーネントの実装

### 1.2 状態管理
- useStateまたはuseReducerの適切な選択
- イミュータブルな状態更新
- 初期値の適切な設定

## 2. カスタムフック

### 2.1 フック設計
- use接頭辞の使用
- 単一責務の原則に従う
- 再利用性の確保

### 2.2 API通信
- fetchUtilsの使用
- エラーハンドリングの統一
- 非同期処理の型安全な実装

## 3. 依存関係

### 3.1 コンテキスト間の依存
- 循環参照の防止
- 適切な依存順序の維持
- 必要最小限の依存関係

### 3.2 モデルとの連携
- モデルインスタンスの管理
- データ変換の一貫性
- 型の整合性の確保

## 4. エラー処理

### 4.1 エラー管理
- エラー状態の一元管理
- 適切なエラーメッセージ
- フォールバック処理の実装

### 4.2 状態更新エラー
- 状態更新の検証
- ロールバック処理
- エラーログの記録

## 5. パフォーマンス

### 5.1 最適化
- メモ化の活用
- コンテキスト分割の検討
- 不要な再レンダリングの防止

### 5.2 APIキャッシュ
- キャッシュ戦略の実装
- 適切な更新タイミング
- メモリ使用の最適化